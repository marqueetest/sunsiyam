<umb-box>
    <umb-box-header title="Xliff File Connector">
    </umb-box-header>
    <umb-box-content>
        <p>
            The Xliff file Connector saves and reads XLIFF format files to disk.
        </p>
        <p>
            You can download and upload the files via the back office - within a submitted
            job, but you can just copy the files directly in and out of the folder and that
            will work also.
        </p>
        <p>
            <em>The default folder location for translation files is /media/xliff_translations</em>
        </p>
    </umb-box-content>

    <umb-box-content>
        <div class="form-horizontal">
            <umb-control-group label="Folder" description="location where files are saved">
                <input type="text" ng-model="vm.settings.folder" class="umb-textstring textstring umb-property-editor" />
            </umb-control-group>

            <umb-control-group label="Format" description="Format for extracted files">
                <select class="umb-dropdown umb-property-editor"
                        name="provider"
                        ng-model="vm.settings.format">
                    <option value="xliff.1.2">Xliff 1.2</option>
                    <option value="xliff.2.0">Xliff 2.0</option>
                    <option value="xliff.2.1">Xliff 2.1 (Experimental)</option>
                </select>

            </umb-control-group>

            <umb-control-group label="Extension" description="file extension to save the file (default xlf), if you change this you might need to update umbraco other iis settings to allow download of the file">
                <input type="text" ng-model="vm.settings.extension" class="umb-textstring textstring umb-property-editor" />
            </umb-control-group>

            <umb-control-group label="Split Html" description="Split the HTML into chunks within the Xliff File">
                <umb-toggle checked="vm.settings.split"
                            on-click="vm.settings.split = !vm.settings.split">
                </umb-toggle>
            </umb-control-group>

            <umb-control-group label="Overwrite Blank Targets" description="When a target value is blank (but the source is not) copy the source value to target">
                <umb-toggle checked="vm.settings.blankTarget"
                            on-click="vm.settings.blankTarget = !vm.settings.blankTarget">
                </umb-toggle>
            </umb-control-group>

            <umb-control-group label="Remove Blank Values" description="Don't send blank values in the xliff file">
                <umb-toggle checked="vm.settings.removeBlanks"
                            on-click="vm.settings.removeBlanks = !vm.settings.removeBlanks">
                </umb-toggle>
            </umb-control-group>


            <div ng-if="vm.settings.format == 'xliff.2.1'">
                <umb-control-group label="(Experimental) Include Target Values" description="Include existing translated target files in file">
                    <umb-toggle checked="vm.settings.includeTarget"
                                on-click="vm.settings.includeTarget = !vm.settings.includeTarget">
                    </umb-toggle>

                        <div ng-if="vm.settings.split" class="alert alert-warning mt2">
                            <icon class="icon icon-alert"></icon>
                            You cannot include target values and split the html in the same process. as it may result in missing/mismatched target html tags.
                        </div>
                </umb-control-group>
            </div>

        </div>
    </umb-box-content>
</umb-box>